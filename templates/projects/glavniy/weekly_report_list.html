{% extends '../../main/base.html' %}
{% block content %}

<style>
.date-btn {
    border-radius: 10px;
    font-size: 13px;
    padding: 6px 12px;
}
.date-btn.active {
    background: #0d6efd;
    color: #fff;
}
</style>

<div class="container mt-4">

    <!-- HEADER -->
    <div class="d-flex justify-content-between mb-3">
        <h3>üìò –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –æ—Ç—á—ë—Ç—ã</h3>

        {% if show_all %}
            <a href="?all=0" class="btn btn-primary">–¢–µ–∫—É—â–∞—è –Ω–µ–¥–µ–ª—è</a>
        {% else %}
            <a href="?all=1" class="btn btn-secondary">–ò—Å—Ç–æ—Ä–∏—è</a>
        {% endif %}
    </div>

    <!-- üìÖ –°–ü–ò–°–û–ö –î–ê–¢ -->
    {% if show_all %}
    <div class="mb-3 d-flex flex-wrap gap-2">
        {% for d in available_dates %}
            <a href="?all=1&date={{ d|date:'Y-m-d' }}"
   class="btn btn-outline-primary date-btn {% if d|date:'Y-m-d' == selected_date %}active{% endif %}">
    {{ d|date:"d.m.y" }}
</a>
        {% empty %}
            <span class="text-muted">–ù–µ—Ç –¥–∞—Ç</span>
        {% endfor %}
    </div>
    {% endif %}

    <!-- üìä –¢–ê–ë–õ–ò–¶–ê -->
    <div class="card p-3">
        <div class="table-responsive">
            <table class="table table-bordered table-sm">

                <thead class="table-light">
                    <tr>
                        <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                        <th>–ë–æ–º–¥–æ–¥</th>
                        <th>–•—É—Ñ—Ç–æ–Ω</th>
                        <th>–¢–∞—Ö–∞–∂–∂—É–¥</th>
                        <th>–ò—à—Ä–æ–∫</th>
                        <th>–ö—É—Ä—ä–æ–Ω</th>
                        <th>–¢–∞–∫—Ä–æ—Ä</th>
                        <th>–¢–∞—Ñ–∞–∫–∫—É—Ä</th>
                        <th>–ó–∏–∫—Ä</th>
                        <th>–î—É–æ</th>
                        <th>–ò–Ω—Ñ–æ–∫</th>
                        <th>–ù–∞—Ñ–ª</th>
                        <th>–ú–∏—Å–≤–∞–∫</th>
                        <th>–ë–∞–ª–ª—ã</th>
                    </tr>
                </thead>

                <tbody>
                {% for item in reports %}
                <tr>
                    <td>{{ item.user.username }}</td>
                    <td>{{ item.fajr }}</td>
                    <td>{{ item.isha }}</td>
                    <td>{{ item.tahajud }}</td>
                    <td>{{ item.ishrok }}</td>
                    <td>{{ item.koran }}</td>
                    <td>{{ item.lesson }}</td>
                    <td>{{ item.tafakkur }}</td>
                    <td>{{ item.zikr }}</td>
                    <td>{{ item.duo }}</td>
                    <td>{{ item.infok }}</td>
                    <td>{{ item.nafl_roza }}</td>
                    <td>{{ item.misvak }}</td>
                    <td class="fw-bold text-success">{{ item.total_points }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="14" class="text-center text-muted py-3">
                        –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö
                    </td>
                </tr>
                {% endfor %}
                </tbody>

            </table>
        </div>
    </div>

</div>

{% endblock %}
